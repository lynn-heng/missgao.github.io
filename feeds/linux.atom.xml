<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Nemo's Blog</title><link href="http://www.missgao.net/" rel="alternate"></link><link href="http://www.missgao.net/feeds/linux.atom.xml" rel="self"></link><id>http://www.missgao.net/</id><updated>2016-07-04T00:00:00+08:00</updated><entry><title>也谈Pelican+Github博客搭建:个人站重构记录</title><link href="http://www.missgao.net/2016-update-mysite.html" rel="alternate"></link><published>2016-07-04T00:00:00+08:00</published><author><name>Bailin Heng</name></author><id>tag:www.missgao.net,2016-07-04:2016-update-mysite.html</id><summary type="html">&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#_1"&gt;背景&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_2"&gt;所需知识及主要名词介绍&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_3"&gt;部署过程&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_4"&gt;环境安装&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_5"&gt;结构生成&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_6"&gt;写一篇文章&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_7"&gt;本地查看&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#github-pages"&gt;发布至github pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_8"&gt;完善美化&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_9"&gt;更换主题&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#disqus"&gt;评论(disqus)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_10"&gt;统计（百度）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_11"&gt;插件&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#_12"&gt;搜索&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_13"&gt;相关文章&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#pagesabout"&gt;pages页(about)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_14"&gt;想要更多&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h1 id="_1"&gt;背景&lt;/h1&gt;
&lt;p&gt;以前站点使用jekyll部署，目前完全转至pelican部署，之前已经转移过一次，但当时仅仅是尝鲜。&lt;br /&gt;
pelican是使用python编写的，自己现在工作中也要使用，所以转至pelican也算对口了吧。另外就是github虽然官方支持jekyll(按格式放入md文档即可生成站点），但是想要扩展一些功能的话github是不支持的，也就是插件功能被disable了，想要更多功能还需要在本地生成最终html部署，这样和pelican没什么区别。&lt;/p&gt;
&lt;h2 id="_2"&gt;所需知识及主要名词介绍&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;pelican&lt;br /&gt;
&lt;a href="http://blog.getpelican.com/"&gt;Pelican&lt;/a&gt;是使用Python编写的开源的静态站点生成器, 不需要数据库及服务器端逻辑。 可以使用MarkDown、reStructuredText和AsiiDoc的格式来书写, 同时支持Disqus评论系统、代码高亮, 支持RSS和Atom输出；有很多现成的插件、主题可以选择；采用Jajin2模板引擎, 可以很容易的更改模板。&lt;br /&gt;
本文使用的所描述的是pelican3.6.3版本&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;markdown&lt;br /&gt;
Markdown是一种可以使用普通文本编辑器编写的标记语言，通过简单的标记语法，它可以使普通文本内容具有一定的格式。&lt;br /&gt;
Markdown具有一系列衍生版本，用于扩展Markdown的功能（如表格、脚注、内嵌HTML等等）。因为如此，pelican的md格式在一些markdown扩展功能方面和github是不同的：pelican使用的是Markdown Extra；github目前使用的是kramdown。应该是有方法将pelican转为kramdown的，但我目前没有这个想法 :-)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;github&lt;br /&gt;
GitHub是一个利用Git进行版本控制、专门用于存放软件代码与内容的共享虚拟主机服务。它由GitHub公司（曾称Logical Awesome）的开发者Chris Wanstrath、PJ Hyett和Tom Preston-Werner使用Ruby on Rails编写而成。&lt;br /&gt;
在这里我们主要使用&lt;a href="https://pages.github.com/"&gt;github pages&lt;/a&gt;来创建静态站点：静态站点有很多的功能限制，所以感觉比较适合不怕折腾或者对站点功能要求不多的人使用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;git&lt;br /&gt;
git是一个分散式版本控制软件，最初由Linus Torvalds创作，于2005年以GPL发布。最初目的是为更好地管理Linux内核开发而设计。在这里我们需要掌握一些基本的git命令，init、add、push、commit等。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;disqus&lt;br /&gt;
Disqus是一家使用社交网络形式，向网络社区提供网站留言服务的公司。&lt;br /&gt;
由于静态站的特点，pelican无法实现留言功能，这里借助disqus来实现。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="_3"&gt;部署过程&lt;/h1&gt;
&lt;p&gt;我自己的环境是archlinux,编辑md文件使用retext、vim。由于archlinux的源中已经有pelican，所以没有使用pip的方法安装。&lt;/p&gt;
&lt;h2 id="_4"&gt;环境安装&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S pelican python-markdown python-beautifulsoup4
&lt;span class="c1"&gt;#如果是其它linux环境可使用如下命令（未验证）&lt;/span&gt;
pip install pelican
pip install markdown
pip install beautifulsoup4
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_5"&gt;结构生成&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir mysite
&lt;span class="nb"&gt;cd&lt;/span&gt; mysite
pelican-quickstart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;根据提示一步步输入相应的配置项，不知道如何设置的接受默认即可，后续可以通过编辑pelicanconf.py文件更改配置)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt; What will be the default language of this web site? &lt;span class="o"&gt;[&lt;/span&gt;en&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;#这里填cn&lt;/span&gt;
&amp;gt; What is your &lt;span class="nb"&gt;time&lt;/span&gt; zone? &lt;span class="o"&gt;[&lt;/span&gt;Europe/Paris&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;#这里填Asia/Shanghai&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;以下是生成的目录结构：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;nemo@HENG mysite&lt;span class="o"&gt;]&lt;/span&gt;$ tree
.
├── content             &lt;span class="c1"&gt;# 存放源文件(md文件）&lt;/span&gt;
│   └── pages           &lt;span class="c1"&gt;# 存放手工创建的静态页面，该目录默认未创建，配合DISPLAY_PAGES_ON_MENU设置可以做类似about的页面&lt;/span&gt;
├── develop_server.sh   &lt;span class="c1"&gt;# 方便开启测试服务器&lt;/span&gt;
├── Makefile            &lt;span class="c1"&gt;# 方便管理博客的Makefile&lt;/span&gt;
├── output              &lt;span class="c1"&gt;# 生成的输出文件，最终将该目录部署至github pages&lt;/span&gt;
├── pelicanconf.py      &lt;span class="c1"&gt;# 主配置文件&lt;/span&gt;
└── publishconf.py      &lt;span class="c1"&gt;# 发布配置文件，覆盖pelicanconf的配置，可以将一些发布时才需要的设置加入&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_6"&gt;写一篇文章&lt;/h2&gt;
&lt;p&gt;使用文本编辑器（我使用retext)创建一篇文件存入content下，以markdown格式为例，文件头加入以下信息：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Title: 文章标题
Date: 2010-12-03 10:20
Modified: 2010-12-05 19:30 &lt;span class="c1"&gt;# 新文档这一行可以不写&lt;/span&gt;
Category: Python
Tags: pelican, publishing
Slug: my-super-post       &lt;span class="c1"&gt;# 标识文章唯一性，如果该项不填则使用title的中文拼音，如果发生唯一性冲突时则生成文档时会报错&lt;/span&gt;
Authors: Alexis Metaireau &lt;span class="c1"&gt;# 逗号分隔多个，这一行我一般不写&lt;/span&gt;
Summary: Short version &lt;span class="k"&gt;for&lt;/span&gt; index and feeds  &lt;span class="c1"&gt;# 这个我平时也不用&lt;/span&gt;

This is the content of my super blog post.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面#号及后面内容是说明，实际创建不要加入，否则会报错&lt;/p&gt;
&lt;h2 id="_7"&gt;本地查看&lt;/h2&gt;
&lt;p&gt;在站点目录下执行如下命令&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;make html
make serve
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;第一条命令将在output目录下生成静态站点，第二条命令启动本地http服务，可以使用http://localhost:8000查看&lt;/p&gt;
&lt;h1 id="github-pages"&gt;发布至github pages&lt;/h1&gt;
&lt;p&gt;可以参看&lt;a href="https://pages.github.com/"&gt;github pages&lt;/a&gt;的介绍&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;进入github.com,创建一个账号&lt;/li&gt;
&lt;li&gt;创建一个repository(仓库），名称使用yourname.github.io&lt;/li&gt;
&lt;li&gt;ssh认证，本步不设置时使用git需要每次输入账号和密码&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;git clone站点至某目录&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/yourname/yourname.github.io
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将output目录内容放入clone出来的目录内，然后使用如下命令提交&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git add .
git commit -m &lt;span class="s2"&gt;&amp;quot;init&amp;quot;&lt;/span&gt;
git push origin master
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://help.github.com/articles/quick-start-setting-up-a-custom-domain/"&gt;绑定自己的域名&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这里关于github及git命令的使用暂不做详细介绍，因为我自己对git还有不是十分熟练，只会几条基本命令。网上也有很多文章，以后如果有时间再来完善这一部分。&lt;br /&gt;
另外我没有使用pelican的make publish命令，因为发现有问题。我将MakeFile做了下简单修改，使用该命令只是将内容输入至publish目录（output目录输出的是本机调试部分，一些关于publishconf.py的配置是不引用的），然后再使用第5步中的命令手动提交。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt; 至此主要功能已完成，下面做一些美化工作  &lt;/strong&gt;&lt;/p&gt;
&lt;h1 id="_8"&gt;完善美化&lt;/h1&gt;
&lt;p&gt;pelican默认的站点simple样式过于简单，并且很多想要的功能也没有。另外我在archlinux下安装时pelican在系统的python目录下，操作也不是很方便(需要root权限修改)，所以需要进行一些美化工作。&lt;br /&gt;
首先修改下默认的配置文件pelicanconf.py：加入代码高亮及目录（toc）功能&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;MD_EXTENSIONS = [&amp;#39;codehilite(css_class=highlight)&amp;#39;,&amp;#39;extra&amp;#39;, &amp;#39;toc&amp;#39;]
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_9"&gt;更换主题&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/getpelican/pelican-themes"&gt;pelican仓库&lt;/a&gt;上有很多现成的主题可以选择，官方的方法让将theme仓库clone至本机，然后选择自己需要的，但我只需要一个，所以使用svn方法来获取，我使用tuxlite_tbs主题。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir themes
&lt;span class="nb"&gt;cd&lt;/span&gt; themes
svn co https://github.com/getpelican/pelican-themes/trunk/tuxlite_tbs
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;然后修改pelicanconf.py，加入或修改THEME&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;themes/tuxlite_tbs&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="disqus"&gt;评论(disqus)&lt;/h2&gt;
&lt;p&gt;编辑publishconf.py,查找DISQUS_SITENAME变量，将前面的#注释去掉（如果没有则添加该行）。注意这里修改在本机是看不到效果的，因为这个需要使用make publish时才会生效，如果想在本机查看，同时修改pelicanconf.py文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;DISQUS_SITENAME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;missgao&amp;quot;&lt;/span&gt;  &lt;span class="c1"&gt;# 将missgao替换为自己在disqus站点的名称&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2 id="_10"&gt;统计（百度）&lt;/h2&gt;
&lt;p&gt;pelican默认有google的统计，但考虑到国内的网络环境，还是换成了百度统计。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;编辑publishconf.py，将GOOGLE_ANALYTICS行修改为下面行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;BAIDU_ANALYTICS = &amp;quot;5f98555052c4e3c64755c6406754××××&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面的一串值可以在百度统计中的生成部署代码中如下行找到&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hm.src = &amp;quot;//hm.baidu.com/hm.js?5f98555052c4e3c64755c6406754××××&amp;quot;;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修改主题文件themes/tuxlite_tbs/templates/analytics.html&lt;br /&gt;
参考原来的内容，更换为百度统计中的代码&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="_11"&gt;插件&lt;/h2&gt;
&lt;p&gt;我目前使用了两个插件：related_posts（相关文章）、tipue_search（站内搜索），以后可能会有变动，该文档可能未及时更新。以下记录主要修改内容。&lt;br /&gt;
编辑pelicanconf.py，加入或修改如下内容：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;PLUGIN_PATHS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;plugins&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;PLUGINS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;related_posts&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;tipue_search&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# RELATED_POSTS_MAX = 6&lt;/span&gt;
&lt;span class="n"&gt;DIRECT_TEMPLATES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;index&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;tags&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;categories&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;authors&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;archives&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;search&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;
&lt;h3 id="_12"&gt;搜索&lt;/h3&gt;
该插件需安装beautifulsoup4，参看&lt;strong&gt;环境安装&lt;/strong&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;获取插件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir plugins  &lt;span class="c1"&gt;# 对应上面PLUGIN_PATHS&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt; plugins
svn co https://github.com/getpelican/pelican-plugins/trunk/tipue_search
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取样式文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; themes/tuxlite_tbs/static
svn co https://github.com/Tipue/Tipue-Search/trunk/tipuesearch
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;新建模板文件themes/tuxlite_tbs/templates/search.html,内容如下&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;{% extends &amp;quot;base.html&amp;quot; %}

{% block title %}
  Seach {{ super() }}
{% endblock title %}

{% block head_description %}
  Search results:
{% endblock head_description %}

    {% block extra_css %}
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;link&lt;/span&gt; &lt;span class="na"&gt;rel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;stylesheet&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{{ SITEURL }}/theme/tipuesearch/tipuesearch.css&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;
&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
{% endblock %}

{% block extra_js %}
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{{ SITEURL }}/theme/tipuesearch/tipuesearch_content.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{{ SITEURL }}/theme/tipuesearch/tipuesearch_set.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{{ SITEURL }}/theme/tipuesearch/tipuesearch.min.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;

  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;ready&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#tipue_search_input&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;tipuesearch&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
          &lt;span class="s1"&gt;&amp;#39;mode&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;json&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
          &lt;span class="s1"&gt;&amp;#39;show&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
          &lt;span class="s1"&gt;&amp;#39;newWindow&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
          &lt;span class="s1"&gt;&amp;#39;contentLocation&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{{ SITEURL }}/tipuesearch_content.json&amp;#39;&lt;/span&gt;
      &lt;span class="p"&gt;});&lt;/span&gt;
    &lt;span class="p"&gt;});&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
{% endblock extra_js %}

{% block content %} 
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    Search Results
  &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;hr&lt;/span&gt; &lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tipue_search_content&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
{% endblock content %}
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修改模板文件themes/tuxlite_tbs/templates/site.html,在DISPLAY_PAGES_ON_MENU代码块后面加入&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;form&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;navbar-search pull-right&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;action&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{{ SITEURL }}/search.html&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;onsubmit&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;return validateForm(this.elements[&amp;#39;q&amp;#39;].value);&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;input&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;q&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tipue_search_input&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;search-query col-md-2&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;placeholder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Search&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;required&lt;/span&gt;&lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;i&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;fa fa-search fa-fw&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;i&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;form&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;p&gt;另外还需要在部分位置定义head_description、extra_css、extra_js的block，用以加入search中对应的block&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修改配置文件：参看上面DIRECT_TEMPLATES行，加入search&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h3 id="_13"&gt;相关文章&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;获取插件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; plugins
svn co https://github.com/getpelican/pelican-plugins/trunk/related_posts
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修改模板文件themes/tuxlite_tbs/templates/article.html，在合适位置加入如下行&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;{% if article.related_posts %}
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;ul&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    {% for related_post in article.related_posts %}
        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;{{ SITEURL }}/{{ related_post.url }}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;{{ related_post.title }}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    {% endfor %}
    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;ul&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
{% endif %}
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="pagesabout"&gt;pages页(about)&lt;/h2&gt;
&lt;p&gt;在content/pages下创建一个about.md文件,内容如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;About&lt;/span&gt; &lt;span class="n"&gt;Me&lt;/span&gt;
&lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;04&lt;/span&gt;

&lt;span class="n"&gt;About&lt;/span&gt; &lt;span class="n"&gt;me&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果pelicanconf.py配置文件中DISPLAY_PAGES_ON_MENU不存在或设为True，则在页面顶部将显示about菜单项,对应该文件&lt;/p&gt;
&lt;h1 id="_14"&gt;想要更多&lt;/h1&gt;
&lt;p&gt;如果你的英文能力还可以，你还可以&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前住&lt;a href="http://docs.getpelican.com/en/3.6.3/"&gt;pelican的文档页&lt;/a&gt;查看更详细描述&lt;/li&gt;
&lt;li&gt;前往&lt;a href="https://pages.github.com/"&gt;github pages页&lt;/a&gt;查看自定义域名及静态站部署相关知识&lt;/li&gt;
&lt;li&gt;前往&lt;a href="https://github.com/getpelican/pelican-themes"&gt;pelican themes仓库&lt;/a&gt;获取更多主题&lt;/li&gt;
&lt;li&gt;前往&lt;a href="https://github.com/getpelican/pelican-plugins"&gt;pelican plugins仓库&lt;/a&gt;获取更多插件&lt;/li&gt;
&lt;li&gt;前往&lt;a href="http://jinja.pocoo.org/"&gt;jinin2站点&lt;/a&gt;查看模板语法&lt;/li&gt;
&lt;/ul&gt;</summary><category term="pelican"></category><category term="github"></category></entry><entry><title>linux下防rm命令误删</title><link href="http://www.missgao.net/2016-prevent-rm-mistakenly-deleted.html" rel="alternate"></link><published>2016-07-01T00:00:00+08:00</published><author><name>Bailin Heng</name></author><id>tag:www.missgao.net,2016-07-01:2016-prevent-rm-mistakenly-deleted.html</id><summary type="html">&lt;p&gt;前几天在自己的机器上一时手误在一个工作目录&lt;em&gt;rm -f *&lt;/em&gt;了一下，执行完就感觉不对，有种双11想剁手的冲动。好在这个工作目录中的文件不多，前段时间给其它人都分别发过，在邮件的附件中一个个找回了。但报着不怕出问题，但问题不能重复出的态度，决定找一个方法来避免以后的误犯。&lt;br /&gt;
一通GOOGLE后发现了一个方案：使用创建一个-i文件的方法&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;touch -- -i
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;该方案可以防止在-i文件所在目录下执行&lt;em&gt;rm -rf *&lt;/em&gt;,因为在此*会被shell扩展为当前目录下的文件，而&lt;em&gt;-i&lt;/em&gt;是rm参数（强制提醒），这时就不会直接将文件删掉了，当然也可以将rm给建个&lt;em&gt;rm -i&lt;/em&gt;的别名（RHEL就是这么干的），但在自己的电脑上还是不时需要删除多个文件的，加完后自己操作不便，所以使用touch的方法还是很不错的。但该方法不能处理如下的情况：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rm -rf ./*
rm -rf /path/*
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;因为这时SHELL扩展出来的&lt;em&gt;-i&lt;/em&gt;前面带有路径，已经不能被解析为参数了。&lt;br /&gt;
还有一个习惯要以后注意养成，就是将&lt;em&gt;-f&lt;/em&gt;或&lt;em&gt;-rf&lt;/em&gt;的参数放在rm命令的最后边，这样防止有时路径未输入完整时按了enter（话说我也曾有过这种经历）&lt;br /&gt;
先将平常自己经常用的目录中建起-i文件来，虽然有个-i文件对强迫症来说看着不太爽，但能防误rm我忍了。&lt;/p&gt;</summary><category term="linux"></category></entry><entry><title>PXE网络安装RHEL6</title><link href="http://www.missgao.net/2015-rhel6-pxe-install.html" rel="alternate"></link><published>2015-07-18T00:00:00+08:00</published><author><name>Bailin Heng</name></author><id>tag:www.missgao.net,2015-07-18:2015-rhel6-pxe-install.html</id><summary type="html">&lt;p&gt;首先，只是通过网络方式安装，并没有实现自动。因为以前一直使用U盘装服务器，近来U盘丢失，还没来得及买，但又有安装的需求，于是就使用了PXE进行了下网络安装，因为着急装，只是大致看了两个介绍文章及ARCH WIKI，也就没有专门去研究kickstart的自动了,后面有时间再专门研究下。&lt;/p&gt;
&lt;p&gt;所需软件：dnsmasq,apache(nginx或其它http服务都成)&lt;/p&gt;
&lt;p&gt;为什么是dnsmasq?因为它本身包含了TFTP、DHCP服务，PXE启动主要所需的东西都包含了。另外我以前装过dnsmasq来做本地DNS缓存服务，省得再去装TFTP和DHCP服务了。&lt;/p&gt;
&lt;p&gt;大致逻辑：
支持PXE的网卡在启动时会首先向DHCP SERVER请求一个IP，同时会根据DHCP的选项请求一个引导文件及配置文件，在配置文件中可以设定内核位置。&lt;/p&gt;</summary><category term="linux"></category><category term="pxe"></category><category term="rhel"></category></entry><entry><title>2038年问题</title><link href="http://www.missgao.net/2014-year2038.html" rel="alternate"></link><published>2014-10-23T00:00:00+08:00</published><author><name>Bailin Heng</name></author><id>tag:www.missgao.net,2014-10-23:2014-year2038.html</id><summary type="html">&lt;p&gt;今天习惯性pacman -Syu.发现linux kernel出3.17了。&lt;/p&gt;
&lt;p&gt;网上查了下3.17的新特性，发现有一项是解决2038年问题，以前只知2000年问题，于是查了一下，原来如此：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;在计算机应用上，2038年问题可能会导致某些软件在2038年无法正常工作。所有使用UNIX时间表示时间的程序都将受其影响，因为它们以自1970年1月1日经过的秒数（忽略闰秒）来表示时间。这种时间表示法在类Unix（Unix-like）操作系统上是一个标准，并会影响以其C编程语言开发给其他大部份操作系统使用的软件。在大部份的32位操作系统上，此“time_t”数据模式使用一个有正负号的32位元整数(signedint32)存储计算的秒数。依照此“time_t”标准，在此格式能被表示的最后时间是2038年1月19日03:14:07，星期二（UTC）。超过此一瞬间，时间将会被掩盖（wrap around）且在内部被表示为一个负数，并造成程序无法工作，因为它们无法将此时间识别为2038年，而可能会依个别实作而跳回1970年或1901年。错误的计算及动作可能因此产生。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;总的来说就是32位的老kernel可能会在2038年的1月19号出问题。&lt;/p&gt;</summary><category term="linux"></category></entry><entry><title>linux连接中文无线</title><link href="http://www.missgao.net/2014-connect2-cn-wifi.html" rel="alternate"></link><published>2014-10-16T00:00:00+08:00</published><author><name>Bailin Heng</name></author><id>tag:www.missgao.net,2014-10-16:2014-connect2-cn-wifi.html</id><summary type="html">&lt;p&gt;在客户的办公室连接内网，可这边的无线名称为中文，我试了下直接将对应中文写入配置文件（使用的netctl连接），结果不行。&lt;/p&gt;
&lt;p&gt;又使用iw 的scan命令查询，得到的对应SSID是以\x开始的16进制串，将对应的一串16进制设置进去报SSID太长，又是不行。&lt;/p&gt;
&lt;p&gt;结果只有先用WINDOWS来连。网上查来查去，也没有找到相应的解决方案。&lt;/p&gt;
&lt;p&gt;后来自己仔细想了下，问题应该出在编码上，我的locale设置的utf-8。中文无线名称的编码应该就是GB2312。后来就在编码上测试了很久，最终发现原来是很简单一件事：&lt;/p&gt;
&lt;p&gt;我还是先建立了一个配置文件，SSID处正常填入中文。此时该文件为UTF8编码，再使用iconv进行编码转换(utf8 -&amp;gt; gb2312)，得到一个新的文件，使用此配置文件连接就直接成功了。如果不是使用netctl而是使用wpa_supplicant命令直接连接，那么将wpa_supplicant的配置文件存成或转换gb2312编码即可。&lt;/p&gt;</summary><category term="linux"></category><category term="wifi"></category></entry><entry><title>shell中的for循环疑问</title><link href="http://www.missgao.net/2014-shell-for.html" rel="alternate"></link><published>2014-10-09T00:00:00+08:00</published><author><name>Bailin Heng</name></author><id>tag:www.missgao.net,2014-10-09:2014-shell-for.html</id><summary type="html">&lt;p&gt;如下，循环时使用&lt;em&gt;s*&lt;/em&gt;和&lt;em&gt;ls s*&lt;/em&gt;还是有不同的，具体的原因有时间得慢慢研究（自己掌握的基础知识还是不扎实）。问题在于IFS，似乎s*本身直接被扩展出来是带引号（防止被解析出错），但经过ls s*后等于输出了一次引号也就不存在了。
先记录下以备后面研究。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;victor@MISSGAO ~&lt;span class="o"&gt;]&lt;/span&gt;$ touch ss&lt;span class="se"&gt;\ &lt;/span&gt;s1
&lt;span class="o"&gt;[&lt;/span&gt;victor@MISSGAO ~&lt;span class="o"&gt;]&lt;/span&gt;$ ls -l s*
-rw-r--r-- &lt;span class="m"&gt;1&lt;/span&gt; victor users &lt;span class="m"&gt;835826&lt;/span&gt; Sep &lt;span class="m"&gt;28&lt;/span&gt; 22:03 search.tgz
-rwxr--r-- &lt;span class="m"&gt;1&lt;/span&gt; victor users    &lt;span class="m"&gt;472&lt;/span&gt; Sep &lt;span class="m"&gt;23&lt;/span&gt; 16:51 ssh-expect
-rw-r--r-- &lt;span class="m"&gt;1&lt;/span&gt; victor users    &lt;span class="m"&gt;506&lt;/span&gt; Sep &lt;span class="m"&gt;28&lt;/span&gt; 15:00 ssh-passwd.conf
-rw-r--r-- &lt;span class="m"&gt;1&lt;/span&gt; victor users      &lt;span class="m"&gt;0&lt;/span&gt; Oct  &lt;span class="m"&gt;9&lt;/span&gt; 21:53 ss s1
&lt;span class="o"&gt;[&lt;/span&gt;victor@MISSGAO ~&lt;span class="o"&gt;]&lt;/span&gt;$ &lt;span class="k"&gt;for&lt;/span&gt; file in s*&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="k"&gt;done&lt;/span&gt;
search.tgz
ssh-expect
ssh-passwd.conf
ss s1
&lt;span class="o"&gt;[&lt;/span&gt;victor@MISSGAO ~&lt;span class="o"&gt;]&lt;/span&gt;$ &lt;span class="k"&gt;for&lt;/span&gt; file in &lt;span class="sb"&gt;`&lt;/span&gt;ls s*&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="k"&gt;done&lt;/span&gt;
search.tgz
ssh-expect
ssh-passwd.conf
ss
s1
&lt;/pre&gt;&lt;/div&gt;</summary><category term="linux"></category><category term="shell"></category></entry><entry><title>我的LFS及BLFS</title><link href="http://www.missgao.net/2014-my-LFS-BLFS.html" rel="alternate"></link><published>2014-04-19T00:00:00+08:00</published><author><name>Bailin Heng</name></author><id>tag:www.missgao.net,2014-04-19:2014-my-LFS-BLFS.html</id><summary type="html">&lt;p&gt;忽然心血来潮又搞了一次LFS，记得以前搞过一次，已经五六年前了，当时只把LFS搞完BLFS不知如何下手，做的过程也只是全程按手册的命令走。&lt;/p&gt;
&lt;p&gt;这次决定一次要把BLFS做完，搞出来一个可以达到日常应用的环境。&lt;/p&gt;
&lt;p&gt;使用最新的LFS7.3｜BLFS6.3，然后开始了长达一周的LFS历程。&lt;/p&gt;
&lt;p&gt;终于完成了，上成果图&lt;/p&gt;
&lt;p&gt;&lt;img alt="LFS桌面" src="http://image17-c.poco.cn/mypoco/myphoto/20150705/19/17835138520150705194356045.jpg?1024x641_120" /&gt;&lt;/p&gt;</summary><category term="lfs"></category><category term="linux"></category></entry><entry><title>在GitHub使用jekyll建站记录</title><link href="http://www.missgao.net/2013-jekyll-blog-on-github.html" rel="alternate"></link><published>2013-07-24T00:00:00+08:00</published><author><name>Bailin Heng</name></author><id>tag:www.missgao.net,2013-07-24:2013-jekyll-blog-on-github.html</id><summary type="html">&lt;p&gt;LINUX下的安装命令&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#aptitude install ruby ruby-dev
#gem install jekyll
#gem install rdiscount
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;安装rdiscount是因为默认的maruku对我写的md文档有些会报错，没心思研究为什么，换rdiscount解决了&lt;/p&gt;
&lt;p&gt;WINDOWS install&lt;/p&gt;
&lt;p&gt;不记得具体步骤了，网上搜一下windows jekyll会有大把的信息。记录下遇到的问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;使用安装版的RubyInstaller，我用ZIP版的时间发生一个莫明其妙的问题  &lt;/li&gt;
&lt;li&gt;修改convertible.rb文件解决中文会出错，加入:encoding =&amp;gt; "utf-8".参考路径C:\Ruby\lib\ruby\gems\1.9.1\gems\jekyll-1.0.3\lib\jekyll&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;self.content = File.read(File.join(base, name),:encoding =&amp;gt; &amp;quot;utf-8&amp;quot;)
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;建个站点&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;jekyll&lt;/span&gt;&lt;span class="x"&gt; new sitename&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;cd&lt;/span&gt;&lt;span class="x"&gt; sitename&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;jekyll&lt;/span&gt;&lt;span class="x"&gt; server&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;现在可以在本机通过http://localhost:4000 查看效果了,&lt;/p&gt;
&lt;p&gt;修改_config.yml，加入下面一行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;markdown&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;rdiscount&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;让jettly使用rdiscount解析markdown文档&lt;/p&gt;
&lt;p&gt;绑域名，我绑的是二级域名，按GitHub上的说明看顶域和二级域是不同的。&lt;br /&gt;
修改域名绑定，加入一个CNAME,值填对应的[youname].github.io&lt;br /&gt;
GitHub项目中建立CNAME文件，填上要绑的二级域名&lt;/p&gt;</summary><category term="debian"></category><category term="linux"></category><category term="jekyll"></category></entry><entry><title>Debian wheezy 64位安装32位支持</title><link href="http://www.missgao.net/2013-64bit-debian-multiarch.html" rel="alternate"></link><published>2013-04-22T00:00:00+08:00</published><author><name>Bailin Heng</name></author><id>tag:www.missgao.net,2013-04-22:2013-64bit-debian-multiarch.html</id><summary type="html">&lt;p&gt;wheezy 不像前些版本直接安装ia32-libs ia32-libs-gtk就可以，因为从wheezy开始搞了个Multiarch，具体的含义不是特别清楚，主要是英文不好，不过从debian的网站上还是看明白了命令。&lt;/p&gt;
&lt;p&gt;以下列出方法&lt;/p&gt;
&lt;p&gt;首先加入对应架构支持&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dpkg --add-architecture i386
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;然后在源中加入对应架构，像我使用的163的源&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;deb&lt;/span&gt; &lt;span class="sx"&gt;[arch=amd64,i386]&lt;/span&gt; &lt;span class="kp"&gt;http://mirrors.163.com/debian/&lt;/span&gt; &lt;span class="kp"&gt;wheezy&lt;/span&gt; &lt;span class="kp"&gt;main&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;再更新下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude update
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;然后就可以安装ia32-libs了&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install ia32-libs
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在安装时可以看到一些包的后面多出了:i386字样&lt;/p&gt;</summary><category term="debian"></category><category term="linux"></category></entry><entry><title>64位debian使用firefox</title><link href="http://www.missgao.net/2013-64bit-debian-firefox.html" rel="alternate"></link><published>2013-02-21T00:00:00+08:00</published><author><name>Bailin Heng</name></author><id>tag:www.missgao.net,2013-02-21:2013-64bit-debian-firefox.html</id><summary type="html">&lt;p&gt;主要解决相应wrong ELF class: ELFCLASS64错及插件异常&lt;/p&gt;
&lt;p&gt;不多描述，直接放方法：&lt;/p&gt;
&lt;p&gt;首先要有安装ia32-libs、lib32-libs-gtk，因为firefox只有32位的，但好像他默认是去读32位下对应的so文件，虽然我们装了32位Lib它也不去找。&lt;/p&gt;
&lt;p&gt;说明下我的情况：我直接在mozilla上下载的firefox，然后放在了/usr/local下，这时启动firefox是要用完整路径才可以。&lt;/p&gt;
&lt;p&gt;方法：创建/usr/local/bin/firefox，内容如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/bash -e&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/usr/lib32:&lt;span class="nv"&gt;$LD_LIBRARY_PATH&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;GTK_PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/usr/lib32/gtk-2.0
/usr/local/firefox/firefox &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$@&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; 2&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &amp;gt; /dev/null &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;具体原因不再解释，懂的自然懂，不懂的解决问题即可&lt;/p&gt;
&lt;p&gt;下面描述下flash插件问题：&lt;/p&gt;
&lt;p&gt;我测试的情况如下，在adobe网站下载linux的64不可用。我纠结了一两天，后来下载了32位的竟然可以了。当然上面的步骤需要先做一下，上面的步骤如果没有进行也是可以启动firefox的，我是在处理支付宝密码输入控件时想到的，当时支付宝默认给我装的是64控件，结果也有报ELFCLASS64错，然后我将支付宝的控件也换做32的竟然可以了。&lt;/p&gt;
&lt;p&gt;附：支付宝的控件默认会根据你的系统环境会安装控件，所以装的是64的，想装32的只需做一个简单的改动：得到对应安装文件先不要执行，而修改下，将里边删除\~/.aliedit语句删除，然后前往\~/.aliedit/install/lib下看，会看到一个64一个32的lib，对应复制到\~/.mozilla/plugins下即可&lt;/p&gt;
&lt;p&gt;&lt;em&gt;补充说明——LINUX下可以直接用64位的FIREFOX，到下面这里找所需要的版本吧：ftp://ftp.mozilla.org/pub/firefox/releases/latest/linux-x86_64/&lt;/em&gt;&lt;/p&gt;</summary><category term="debian"></category><category term="firefox"></category><category term="linux"></category></entry><entry><title>硬盘安装DEBIAN SQUEEZE 64BIT备忘</title><link href="http://www.missgao.net/2013-install-debian-disk.html" rel="alternate"></link><published>2013-02-19T00:00:00+08:00</published><author><name>Bailin Heng</name></author><id>tag:www.missgao.net,2013-02-19:2013-install-debian-disk.html</id><summary type="html">&lt;p&gt;这不是一个安装手册，只是自己安装的一些重点项目记录 &lt;br /&gt;
 安装前的情况&lt;br /&gt;
 软件：WIN7旗舰版-64bit EN + BT5双系统&lt;br /&gt;
 硬件：LENOVO E46A&lt;/p&gt;
&lt;p&gt;规划安装后情况：&lt;br /&gt;
 WIN7 64+DEBIAN 64，去除BT5.&lt;br /&gt;
 BT5下/home分区保留，安装完后修改debian的fstab再将/home挂载&lt;/p&gt;
&lt;p&gt;所有常用软件放/usr/local,并将/home/local单独分区，防止再重装&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;下载DEBIAN 6.0 amd64,放在FAT32或LINUX格式分区下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;http://cdimage.debian.org/debian-cd/6.0.6/amd64/iso-dvd/debian-6.0.6-amd64-DVD-1.iso
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下载GRUB4DOS所用引导文件，3个全下，放任一位置，建议放C盘根下――boot.img.gz不知做什么用的&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;http://ftp.nl.debian.org/debian/dists/squeeze/main/installer-amd64/current/images/hd-media/
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GRUB4DOS按C命令行,如果引导文件未放在C盘根下或安装有多块硬盘则需要改变(hd0,0)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;kernel (hd0,0)/vmlinuz
initrd (hd0,0)/initrd.gz
boot
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;引导不安装在/dev/sda上，而装在/dev/sdaX上，因为目前还是在WINDOWS上工作的多些，还是用WIN7的引导&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装只安装标准系统，其它的装好再说。&lt;/p&gt;
&lt;h1 id="_1"&gt;到这里已经装完了&lt;/h1&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下载安装nonfree的网卡驱动firmware-iwlwifi_0.28+squeeze1_all.deb，我以前装32位DEBIAN时就下过了，这个包不分32位和64位&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dpkg -i firmware-iwlwifi_0.28+squeeze1_all.deb
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;添加ISO源,ROOT运行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir /mnt/source
mount -o loop /&amp;lt;ISOFILEPATH&amp;gt;/debian-6.0.6-amd64-DVD-1.iso /mnt/source
&lt;span class="nb"&gt;echo&lt;/span&gt; file:///mnt/source squeeze main contrib &amp;gt; /etc/apt/source.list.d/ISO.list
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装一些软件，然后把ntfs3g装上（代码不写了）&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude update
aptitude install vim gcc make ia32-libs ia32-libs-gtk
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装图形&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install xfce4
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;连接WPA2无线:家里的无线ESSID是隐藏的&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install wireless-tools wpasupplicant
wpa_passparse ESSID PWD &amp;gt; file
ifconfig wlan0 up
iwconfig wlan0 essid &lt;span class="s2"&gt;&amp;quot;&amp;lt;ESSID&amp;gt;&amp;quot;&lt;/span&gt;
wpa_supplicant -Dwext -iwlan0 -c&amp;lt;file&amp;gt; 2&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &amp;gt; /dev/null &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;
dhclient wlan0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;最后4句我做成了一个sh文件，以后就可以直接运行了&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;添加163源&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;echo deb http://mirrors.163.com/debian squeeze main contrib &amp;gt; /etc/apt/source.list.d/163.list
echo deb http://mirrors.163.com/debian-backports squeeze-backports main contrib &amp;gt;&amp;gt; /etc/apt/source.list.d/163.list
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;第二行是为了装fcitx用，我平时只有基本的办公用，所以no-free没有加，万一有需要再加好了  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装WQY字体&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install xfont-wqy
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装设置FCITX&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;aptitude install fcitx-table-wubi fcitx-table-wbpy
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;我基本只用五笔，因为会自动依赖，所以就没把fcitx放进去&lt;br /&gt;
创建~/.xinitrc——将export那行加入.profile也可以,内容为&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;LC_CTYPE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;zh_CN.utf8 &amp;gt;&amp;gt; ~/.profile

. /etc/X11/Xsession
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;我的locale是英文(自己EN太差，用这个方法强制学习了)，所以上面这一行一定要加，不然无法使用fcitx&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装OFFICE&lt;/p&gt;
&lt;p&gt;赶上WPS for Linux出beta版了，就赶快下来用,下载.tar.gz包，因为WPS只有32位，所以还需要做一些操作： &lt;br /&gt;
下载最新的libstdc++6:http://packages.debian.org/wheezy/i386/libstdc++6/download&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ar vx &amp;lt;下载的deb文件&amp;gt;
tar xvf data.tar.gz
cp ./usr/lib/i386-linux-gnu/libstdc++.so.6.0.17 &amp;lt;WPS解包路径&amp;gt;/office6/libstdc++.so.6
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;挂载WINDOWS的C盘，然后将面下的字体复制到\~/.fonts下  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;MTEXTRA.TTF  simhei.ttf  simsun.ttc  webdings.ttf  WINGDNG2.TTF  
simfang.ttf  simkai.ttf  symbol.ttf  wingding.ttf  WINGDNG3.TTF
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;先到这里了，附上一张近照。&lt;/p&gt;
&lt;p&gt;&lt;img alt="桌面" src="http://image17-c.poco.cn/mypoco/myphoto/20150705/19/17835138520150705194427059.png?550x344_130" /&gt;&lt;/p&gt;</summary><category term="debian"></category><category term="linux"></category></entry></feed>